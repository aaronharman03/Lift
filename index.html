<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Workout Tracker</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h1, h2 {
      margin-bottom: 10px;
    }
    button {
      padding: 6px 12px;
      cursor: pointer;
    }
    .workout-button, .exercise {
      margin: 6px 0;
    }
    .hidden {
      display: none;
    }
    input {
      padding: 6px;
      margin: 5px 0;
      width: calc(100% - 12px);
    }
    .form-group {
      margin: 10px 0;
    }
    .divider {
      margin: 15px 0;
      border-top: 1px solid #ccc;
    }
  </style>
</head>
<body>

  <h1>Workout Tracker</h1>

  <div class="form-group">
    <input id="workoutNameInput" type="text" placeholder="Workout name (e.g., Push, Pull)" />
    <button id="addWorkoutBtn">Add Workout</button>
  </div>

  <div id="workoutList"></div>

  <div id="workoutDetail" class="hidden">
    <h2 id="workoutTitle"></h2>

    <div class="form-group">
      <input id="exerciseNameInput" type="text" placeholder="Exercise name (e.g., Bench Press)" />
      <input id="exerciseWeightInput" type="number" placeholder="Weight (kg)" />
      <input id="exerciseRepsInput" type="text" placeholder="Reps (e.g., 6,8,6)" />
      <button id="addExerciseBtn">Add Exercise</button>
    </div>

    <div id="exerciseList"></div>
    <div class="divider"></div>
    <button onclick="goBack()">Back to Workouts</button>
  </div>

  <script>
    const workoutNameInput = document.getElementById("workoutNameInput");
    const addWorkoutBtn = document.getElementById("addWorkoutBtn");
    const workoutList = document.getElementById("workoutList");

    const workoutDetail = document.getElementById("workoutDetail");
    const workoutTitle = document.getElementById("workoutTitle");
    const exerciseNameInput = document.getElementById("exerciseNameInput");
    const exerciseWeightInput = document.getElementById("exerciseWeightInput");
    const exerciseRepsInput = document.getElementById("exerciseRepsInput");
    const addExerciseBtn = document.getElementById("addExerciseBtn");
    const exerciseList = document.getElementById("exerciseList");

    let workouts = [];
    let currentWorkoutIndex = null;

    addWorkoutBtn.addEventListener("click", () => {
      const name = workoutNameInput.value.trim();
      if (!name) return;
      workouts.push({ name, exercises: [] });
      workoutNameInput.value = "";
      renderWorkoutButtons();
    });

    function renderWorkoutButtons() {
      workoutList.innerHTML = "";
      workouts.forEach((workout, index) => {
        const btn = document.createElement("button");
        btn.textContent = workout.name;
        btn.className = "workout-button";
        btn.onclick = () => openWorkout(index);
        workoutList.appendChild(btn);
      });
    }

    function openWorkout(index) {
      currentWorkoutIndex = index;
      const workout = workouts[index];
      workoutTitle.textContent = workout.name;
      workoutList.style.display = "none";
      workoutNameInput.style.display = "none";
      addWorkoutBtn.style.display = "none";
      workoutDetail.classList.remove("hidden");
      renderExercises();
    }

    addExerciseBtn.addEventListener("click", () => {
      const name = exerciseNameInput.value.trim();
      const weight = exerciseWeightInput.value.trim();
      const reps = exerciseRepsInput.value.trim();

      if (!name || !weight || !reps) return;

      workouts[currentWorkoutIndex].exercises.push({
        name,
        weight,
        reps: reps.split(",").map(r => r.trim())
      });

      exerciseNameInput.value = "";
      exerciseWeightInput.value = "";
      exerciseRepsInput.value = "";
      renderExercises();
    });

    function renderExercises() {
      exerciseList.innerHTML = "";
      const exercises = workouts[currentWorkoutIndex].exercises;
      exercises.forEach(ex => {
        const div = document.createElement("div");
        div.className = "exercise";
        div.textContent = `${ex.name} - ${ex.weight}kg - ${ex.reps.join(" / ")} reps`;
        exerciseList.appendChild(div);
      });
    }

    function goBack() {
      workoutDetail.classList.add("hidden");
      workoutList.style.display = "";
      workoutNameInput.style.display = "";
      addWorkoutBtn.style.display = "";
    }
  </script>

</body>
</html>
