<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Workout Tracker</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h1, h2 {
      margin-bottom: 10px;
    }
    button {
      padding: 8px 12px;
      margin: 5px 0;
      cursor: pointer;
    }
    .workout-button, .exercise {
      display: block;
      margin: 6px 0;
    }
    .hidden {
      display: none;
    }
    input, textarea {
      padding: 5px;
      width: 100%;
      margin: 5px 0 10px;
    }
  </style>
</head>
<body>

  <h1>Workout Tracker</h1>
  <button id="addWorkoutBtn">Add Workout</button>
  <div id="workoutList"></div>

  <div id="workoutDetail" class="hidden">
    <h2 id="workoutTitle"></h2>
    <button id="addExerciseBtn">Add Exercise</button>
    <div id="exerciseList"></div>
    <button onclick="goBack()">Back</button>
  </div>

  <script>
    const addWorkoutBtn = document.getElementById("addWorkoutBtn");
    const workoutList = document.getElementById("workoutList");
    const workoutDetail = document.getElementById("workoutDetail");
    const workoutTitle = document.getElementById("workoutTitle");
    const addExerciseBtn = document.getElementById("addExerciseBtn");
    const exerciseList = document.getElementById("exerciseList");

    let workouts = [];

    addWorkoutBtn.addEventListener("click", () => {
      const name = prompt("Name this workout:");
      if (!name) return;
      const workout = { name, exercises: [] };
      workouts.push(workout);
      renderWorkoutButtons();
    });

    function renderWorkoutButtons() {
      workoutList.innerHTML = "";
      workouts.forEach((workout, index) => {
        const btn = document.createElement("button");
        btn.textContent = workout.name;
        btn.className = "workout-button";
        btn.onclick = () => openWorkout(index);
        workoutList.appendChild(btn);
      });
    }

    let currentWorkoutIndex = null;

    function openWorkout(index) {
      currentWorkoutIndex = index;
      workoutTitle.textContent = workouts[index].name;
      workoutList.style.display = "none";
      addWorkoutBtn.style.display = "none";
      workoutDetail.classList.remove("hidden");
      renderExercises();
    }

    addExerciseBtn.addEventListener("click", () => {
      const name = prompt("Exercise name:");
      if (!name) return;
      const weight = prompt("Weight (kg):");
      const reps = prompt("Reps (comma-separated, e.g. 6,8,6):");
      if (!weight || !reps) return;

      const exercise = {
        name,
        weight,
        reps: reps.split(",").map(r => r.trim())
      };

      workouts[currentWorkoutIndex].exercises.push(exercise);
      renderExercises();
    });

    function renderExercises() {
      exerciseList.innerHTML = "";
      const exercises = workouts[currentWorkoutIndex].exercises;
      exercises.forEach(ex => {
        const div = document.createElement("div");
        div.className = "exercise";
        div.textContent = `${ex.name} - ${ex.weight}kg - ${ex.reps.join(" / ")} reps`;
        exerciseList.appendChild(div);
      });
    }

    function goBack() {
      workoutDetail.classList.add("hidden");
      workoutList.style.display = "";
      addWorkoutBtn.style.display = "";
    }
  </script>

</body>
</html>

