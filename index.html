<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>75 Day Tracker</title>
  <meta name="theme-color" content="#ffffff">
  <style>
    body {
      font-family: system-ui, sans-serif;
      margin: 0;
      background: #f5f5f5;
      padding: 1rem;
    }
    h1 {
      text-align: center;
    }
    #controls {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    select, button {
      font-size: 1rem;
      padding: 0.5rem;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      background: #fff;
      padding: 0.6rem;
      margin: 0.4rem 0;
      border-radius: 6px;
    }
    .habit-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }
    .habit-desc {
      margin-top: 0.4rem;
      padding-left: 1.8rem;
      font-size: 0.9rem;
      color: #555;
      display: none;
    }
    .add-form {
      background: #fff;
      padding: 1rem;
      border-radius: 6px;
      margin-top: 1rem;
    }
    .add-form input, .add-form textarea, .add-form button {
      width: 100%;
      font-size: 1rem;
      margin: 0.5rem 0;
      padding: 0.6rem;
    }
  </style>
</head>
<body>

<h1>Day <span id="dayNumber">1</span> of 75</h1>

<div id="controls">
  <button id="prevDay">⬅️</button>
  <select id="daySelect"></select>
  <button id="nextDay">➡️</button>
</div>

<ul id="habitList"></ul>

<div class="add-form">
  <input type="text" id="habitTitle" placeholder="Habit name" />
  <textarea id="habitDescription" rows="2" placeholder="Description (optional)"></textarea>
  <button id="addHabitBtn">✅ Done</button>
</div>

<script>
  const TOTAL_DAYS = 75;
  let currentDay = 1;

  const dayNumber = document.getElementById("dayNumber");
  const daySelect = document.getElementById("daySelect");
  const habitList = document.getElementById("habitList");
  const habitTitle = document.getElementById("habitTitle");
  const habitDescription = document.getElementById("habitDescription");

  const updateTitle = () => {
    dayNumber.textContent = currentDay;
    daySelect.value = currentDay;
  };

  const loadHabits = () => {
    habitList.innerHTML = '';
    const habits = JSON.parse(localStorage.getItem(`day-${currentDay}`)) || [];

    habits.forEach((habit, index) => {
      const li = document.createElement("li");

      const header = document.createElement("div");
      header.className = "habit-header";

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = habit.done;
      checkbox.onchange = () => {
        habit.done = checkbox.checked;
        saveHabits(habits);
      };

      const label = document.createElement("span");
      label.textContent = habit.name;
      label.onclick = () => {
        desc.style.display = desc.style.display === "none" ? "block" : "none";
      };

      const desc = document.createElement("div");
      desc.className = "habit-desc";
      desc.textContent = habit.description || "";
      desc.style.display = "none";

      header.appendChild(checkbox);
      header.appendChild(label);
      li.appendChild(header);
      if (habit.description) li.appendChild(desc);
      habitList.appendChild(li);
    });
  };

  const saveHabits = (habits) => {
    localStorage.setItem(`day-${currentDay}`, JSON.stringify(habits));
  };

  const addHabit = () => {
    const name = habitTitle.value.trim();
    const description = habitDescription.value.trim();
    if (!name) return;

    const habits = JSON.parse(localStorage.getItem(`day-${currentDay}`)) || [];
    habits.push({ name, description, done: false });
    saveHabits(habits);
    habitTitle.value = '';
    habitDescription.value = '';
    loadHabits();
  };

  const switchDay = (day) => {
    currentDay = day;
    updateTitle();
    loadHabits();
  };

  document.getElementById("prevDay").onclick = () => {
    if (currentDay > 1) switchDay(currentDay - 1);
  };

  document.getElementById("nextDay").onclick = () => {
    if (currentDay < TOTAL_DAYS) switchDay(currentDay + 1);
  };

  document.getElementById("addHabitBtn").onclick = addHabit;

  // Populate dropdown
  for (let i = 1; i <= TOTAL_DAYS; i++) {
    const opt = document.createElement("option");
    opt.value = i;
    opt.textContent = `Day ${i}`;
    daySelect.appendChild(opt);
  }
  daySelect.onchange = () => switchDay(Number(daySelect.value));

  // Init
  switchDay(1);
</script>

</body>
</html>



